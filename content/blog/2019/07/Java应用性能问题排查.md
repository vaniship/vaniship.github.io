# Java 应用性能问题排查

## 通用问题排查

详见 [性能问题排查](性能问题排查.md)

## 查看运行应用列表

```bash
# 简单应用列表 PID + 应用名
jps -l

# 简单应用列表 PID + 应用名 + 启动参数
jps -lv
```

## 内存问题排查

检查指定 Java 进程中的存活对象实例数，多次采样，如果有数量持续增加的实例，很可能存在内存泄漏问题（对象一直得不到释放）。

```bash
jmap -histo:live $PID|head -20
```

检查指定 Java 进程用于垃圾回收(GC)的时间，返回列中：

* YGC 从应用程序启动到采样时的年轻代 GC 数
* YGCT 从应用程序启动到采样时用于年轻代 GC 的时间，单位是秒
* FGC 从应用程序启动到采样时的 Full GC 数
* FGCT 从应用程序启动到采样时用于 Full GC 的时间，单位是秒
* GCT 从应用程序启动到采样时总 GC 时间(YGCT + FGCT)，单位是秒

```bash
jstat -gcutil $PID 1000
```
