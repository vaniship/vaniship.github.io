# 配置 sinopia 的最大请求数据大小

## 问题背景

sinopia 默认可以上传的包的大小约为 8M ，一般来说包都不会太大。

但是也有一些例外，本来 node-sass 会在安装后，会读取当前系统信息，并到官方网站下载相应系统的二进制文件，或通过下载源码编译为本地版本。但如果在内网使用 node-sass，是无法访问外部网络资源的，就需要将开发环境内所有需要的二进制文件都塞进 node-sass 包中并发布到内网的 sinopia 上。一般来说很容易超上限。

再如 Cordova 包中也有个别依赖单包超过了 10M ，其实占体积的主要是模板工程的图片（包含了各个平台的启动图片）

## 修改方案

修改 sinopia 的配置文件 config.yaml，该文件路径会在 sinopia 启动时在终端中打印。

在 config.yaml 文件末尾增加如下代码：

```yaml
max_body_size: 32m
```

> 注意：该配置设置的是服务器接收 json 数据的尺寸限制，在使用 npm 发包时，会将包数据（二进制数据）转换为base64，所以体积会比实际包的体积大一些，可按照实际尺寸的 1.4 倍进行设置。
